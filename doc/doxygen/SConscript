# Scons configuration file for doxygen docs

import os
import sys

#
# ensure correct versions of python and scons

EnsurePythonVersion(2,3)
EnsureSConsVersion(0,96)

#
# set appropriate defaults for configuration variables

esysroot = Dir('#../..')

#
# import configuration variables passed in from
# calling SConscript (if any)

Import('*')

#
# load configuration settings

options_dir = str(esysroot) + '/scons'
sys.path.append(options_dir)

#
# do the actual build

source = 'rundoxygen'

doxygen_env = Environment(ENV = os.environ)

import scons_extensions
runDoxygen_builder = Builder(action = scons_extensions.build_doxygen, suffix = ".run", single_source = True)
doxygen_env.Append(BUILDERS = {'RunDoxygen' : runDoxygen_builder})

Default(doxygen_env.RunDoxygen(source))
