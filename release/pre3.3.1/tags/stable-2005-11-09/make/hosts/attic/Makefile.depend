# $Id$

# Implicit dependencies

ifneq (${MAKECMDGOALS},clean)
ifneq (${strip ${CC_SRC} ${CPP_SRC} ${SWIG_SRC}},)
-include ${addprefix ${L_DEP_DIR}/, ${CC_SRC:.c=.d} ${CPP_SRC:.cpp=.d} ${SWIG_SRC:.i=.d}}
endif
endif

# implicit automatic dependencies
${L_DEP_DIR}/%.d: %.c
	@echo ----------------------------------------------------------------------------
	@if test ! -e "${@D}"; then mkdir -p ${@D}; fi
	${strip ${CC} ${CC_DEP_FLAGS} ${CC_FLAGS} $<} \
		| sed 's|.*:|${strip ${patsubst ${L_SRC_DIR}/%.c, %.o, $<}} ${@}:|g' > $@
	@[ -s $@ ] || rm -f $@; [ -f $@ ]
	@echo Implicitly Generated \"$@: $<\".

# implicit automatic dependencies
${L_DEP_DIR}/%.d: %.cpp
	@echo ----------------------------------------------------------------------------
	@if test ! -e "${@D}"; then mkdir -p ${@D}; fi
	${strip ${CPP} ${CPP_DEP_FLAGS} ${CPP_FLAGS} $<} \
		| sed 's|.*:|${strip ${patsubst ${L_SRC_DIR}/%.cpp, %.o, $<}} ${@}:|g' > $@
	@[ -s $@ ] || rm -f $@; [ -f $@ ]
	@echo Implicitly Generated \"$@: $<\".

# $Log$
# Revision 1.1  2004/10/26 06:53:58  jgs
# Initial revision
#
# Revision 1.1.2.1  2004/09/27 06:29:16  jgs
# moved from make/hosts
#
# Revision 1.1.1.1  2004/06/24 04:00:39  johng
# Initial version of eys using boost-python.
#
# Revision 1.2  2003/08/25 02:18:40  davies
# Do not build source dependencies when simply cleaning.
#
# Revision 1.1.1.1  2003/08/21 00:58:20  davies
# Imported sources from Lutz Gross.
#
