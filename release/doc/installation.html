<!DOCTYPE html>
<html lang="en" data-content_root="./">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Installation Guide &#8212; esys-escript documentation</title>
    <link rel="stylesheet" type="text/css" href="sphinx_api/_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="sphinx_api/_static/classic.css" />
    <link rel="stylesheet" type="text/css" href="sphinx_api/_static/custom.css" />
  </head>
  <body>
    <div class="related" role="navigation" aria-label="Related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px"><a href="index.html">Home</a> |</li>
        <li class="right"><a href="sphinx_api/index.html">Python API</a> |</li>
        <li class="right"><a href="user/user.pdf">User Guide (PDF)</a></li>
        <li class="nav-item nav-item-0"><a href="index.html">esys-escript documentation</a> &#187;</li>
      </ul>
    </div>

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            <section id="installation-guide">
<h1 id="esys-escript-installation-guide">esys-escript Installation Guide</h1>
<p>This guide is for <strong>Version 6</strong> of esys-escript.</p>
<p>esys-escript is primarily developed on Linux systems. The current version provides some support for macOS but has not been ported to Windows.</p>
<p>For support and questions, please visit the <a href="https://github.com/esys-escript/esys-escript.github.io/issues">Issues site</a>.</p>
<p>For complete documentation including user guide and API reference, see the <a href="https://esys-escript.github.io/">main documentation page</a>.</p>
<h2 id="dependencies">Dependencies</h2>
<h3 id="required-dependencies">Required Dependencies</h3>
<ul>
<li>C++ compiler (g++, clang++, or similar)</li>
<li>Python 3</li>
<li>SCons build system</li>
<li>CMake</li>
<li>python3-numpy</li>
<li>python3-matplotlib</li>
<li>Boost libraries:</li>
<li>boost-python</li>
<li>boost-random</li>
<li>boost-iostreams</li>
<li>boost-numpy (optional, recommended for Jupyter)</li>
</ul>
<h3 id="optional-dependencies">Optional Dependencies</h3>
<ul>
<li>MPI implementation (OpenMPI or MPICH) with python3-mpi4py for distributed parallelization</li>
<li>ParMETIS (for MPI builds)</li>
<li>HDF5-serial (for HDF5 file I/O)</li>
<li>SILO (recommended for VisIt visualization)</li>
<li>python3-sphinx and python3-markdown (for building documentation)</li>
<li>CppUnit (for running tests)</li>
</ul>
<p>The source code is shipped with <a href="https://trilinos.github.io/">Trilinos</a> and <a href="https://www.p4est.org/">p4est</a>.</p>
<h3 id="recommended-tools">Recommended Tools</h3>
<p>These tools are not required at compile time but enhance functionality:</p>
<ul>
<li><a href="https://gmsh.info/">gmsh</a> - mesh generation</li>
<li><a href="https://visit-dav.github.io">VisIt</a> - visualization via SILO or VTK</li>
<li><a href="https://www.paraview.org/">ParaView</a> - visualization via VTK</li>
<li><a href="https://docs.enthought.com/mayavi/mayavi/">Mayavi</a> - visualization via VTK</li>
<li><a href="https://matplotlib.org/">Matplotlib</a> - 2D plotting</li>
</ul>
<h2 id="parallelization-support">Parallelization Support</h2>
<p>esys-escript supports multiple parallelization strategies:</p>
<ul>
<li><strong>OpenMP</strong> - Shared memory parallelization (multi-core), enabled at compilation</li>
<li><strong>MPI</strong> - Distributed memory parallelization (compute clusters), requires mpi4py</li>
<li><strong>Hybrid mode</strong> - Both OpenMP and MPI can be used simultaneously</li>
</ul>
<h2 id="installation-from-source">Installation from Source</h2>
<h3 id="quick-start">Quick Start</h3>
<ol>
<li>Download the source code:</li>
</ol>
<pre><code class="language-bash">git clone --single-branch --branch master https://github.com/esys-escript/esys-escript.github.io.git esys6
cd esys6
</code></pre>
<p>Alternatively, download a tagged release from <a href="https://github.com/esys-escript/esys-escript.github.io/releases">releases page</a>.</p>
<ol>
<li>
<p>Install dependencies for your platform (see Platform-Specific Instructions below)</p>
</li>
<li>
<p>Build esys-escript:</p>
</li>
</ol>
<pre><code class="language-bash">scons -j4 options_file=scons/templates/&lt;OS&gt;_options.py
</code></pre>
<p>Replace <code>&lt;OS&gt;</code> with your operating system (e.g., <code>debian</code>, <code>ubuntu</code>, <code>centos8</code>, etc.).</p>
<ol>
<li>Set up environment variables:</li>
</ol>
<pre><code class="language-bash">export PYTHONPATH=$PWD:$PYTHONPATH
export LD_LIBRARY_PATH=$PWD/lib/esys:$PWD/esys.trilinos/lib:$LD_LIBRARY_PATH
</code></pre>
<ol>
<li>(Optional) Test your build:</li>
</ol>
<pre><code class="language-bash">scons -j4 py_tests options_file=scons/templates/&lt;OS&gt;_options.py
</code></pre>
<h3 id="custom-build-configuration">Custom Build Configuration</h3>
<p>If you need to customize the build (e.g., disable MPI, change compilers, enable/disable dependencies), create your own options file:</p>
<pre><code class="language-bash">HOST=`uname -n`
cp scons/templates/&lt;closest_match&gt;_options.py scons/${HOST}_options.py
# Edit scons/${HOST}_options.py as needed
scons -j4
</code></pre>
<p><strong>For a complete list of all available configuration options, see the <a href="options.html">Build Options Reference</a>.</strong></p>
<p>The options file must include <code>escript_opts_version = 203</code> to be accepted by the build system.</p>
<h3 id="building-documentation">Building Documentation</h3>
<p>To build the documentation, install additional dependencies:</p>
<pre><code class="language-bash">sudo apt-get install python3-sphinx python3-markdown
</code></pre>
<p>Then build the docs:</p>
<pre><code class="language-bash">scons -j4 docs
</code></pre>
<p>This generates:
- Main entry point: <code>release/doc/index.html</code>
- User guide (PDF): <code>release/doc/user/user.pdf</code>
- Python API docs (Sphinx): <code>release/doc/sphinx_api/</code>
- Example scripts: <code>release/doc/escript_examples.{zip,tar.gz}</code></p>
<h2 id="platform-specific-instructions">Platform-Specific Instructions</h2>
<h3 id="debian-12">Debian 12+</h3>
<p>Install required packages:</p>
<pre><code class="language-bash">sudo apt-get install python3-dev python3-numpy python3-matplotlib
sudo apt-get install g++ scons cmake
sudo apt-get install libboost-numpy-dev libboost-python-dev libboost-random-dev libboost-iostreams-dev
sudo apt-get install libhdf5-serial-dev libsilo-dev libsuitesparse-dev
</code></pre>
<p>For MPI support, additionally install:</p>
<pre><code class="language-bash">sudo apt-get install python3-mpi4py libparmetis-dev
</code></pre>
<p>Build esys-escript:</p>
<pre><code class="language-bash">scons -j4 options_file=scons/templates/debian_options.py
</code></pre>
<h3 id="ubuntu-2404">Ubuntu 24.04+</h3>
<p>Install required packages:</p>
<pre><code class="language-bash">sudo apt-get install python3-dev python3-numpy python3-matplotlib
sudo apt-get install g++ scons cmake
sudo apt-get install libboost-numpy-dev libboost-python-dev libboost-random-dev libboost-iostreams-dev
sudo apt-get install libhdf5-serial-dev libsilo-dev libsuitesparse-dev
</code></pre>
<p>For MPI support, additionally install:</p>
<pre><code class="language-bash">sudo apt-get install python3-mpi4py libparmetis-dev
</code></pre>
<p>Build esys-escript:</p>
<pre><code class="language-bash">scons -j4 options_file=scons/templates/ubuntu_options.py
</code></pre>
<h3 id="linux-mint-203">Linux Mint 20.3+</h3>
<p>Mint Linux is based on Ubuntu, use the same commands as Ubuntu above.</p>
<h3 id="arch-linux">Arch Linux</h3>
<p>Install required packages:</p>
<pre><code class="language-bash">sudo pacman -Sy python python-numpy python-matplotlib
sudo pacman -Sy gcc scons cmake
sudo pacman -Sy boost boost-libs suitesparse hdf5
</code></pre>
<p>For MPI support:</p>
<pre><code class="language-bash">sudo pacman -Sy python-mpi4py parmetis
</code></pre>
<p>Build esys-escript:</p>
<pre><code class="language-bash">scons -j4 options_file=scons/templates/arch_py3_options.py
</code></pre>
<h3 id="fedora">Fedora</h3>
<p>Install required packages:</p>
<pre><code class="language-bash">sudo dnf install python3-devel python3-numpy python3-scipy python3-matplotlib
sudo dnf install gcc-c++ scons cmake
sudo dnf install boost-devel boost-python3-devel boost-python3 boost-numpy3 boost-iostreams boost-random
sudo dnf install hdf5-devel suitesparse-devel
</code></pre>
<p>For MPI support:</p>
<pre><code class="language-bash">sudo dnf install python3-mpi4py parmetis-devel
</code></pre>
<p>Build esys-escript:</p>
<pre><code class="language-bash">scons -j4 options_file=scons/templates/fedora_py3_options.py
</code></pre>
<h3 id="opensuse">OpenSUSE</h3>
<p>Install required packages:</p>
<pre><code class="language-bash">sudo zypper in python3-devel python3-numpy python3-matplotlib
sudo zypper in gcc gcc-c++ scons cmake
sudo zypper in libboost_python3-devel libboost_numpy3-devel libboost_random-devel libboost_iostreams-devel
sudo zypper in hdf5-devel suitesparse-devel
</code></pre>
<p>For MPI support:</p>
<pre><code class="language-bash">sudo zypper in python3-mpi4py parmetis-devel
</code></pre>
<p>Build esys-escript:</p>
<pre><code class="language-bash">scons -j4 options_file=scons/templates/opensuse_py3_options.py
</code></pre>
<h3 id="centos-8-rocky-linux-almalinux">CentOS 8 / Rocky Linux / AlmaLinux</h3>
<p>Enable required repositories:</p>
<pre><code class="language-bash">sudo dnf install epel-release
sudo dnf config-manager --set-enabled powertools
</code></pre>
<p>Install required packages:</p>
<pre><code class="language-bash">sudo dnf install python3-devel python3-numpy python3-scipy python3-matplotlib
sudo dnf install gcc gcc-c++ scons cmake
sudo dnf install boost-devel boost-python3 boost-python3-devel
sudo dnf install hdf5-devel suitesparse suitesparse-devel
</code></pre>
<p>For MPI support:</p>
<pre><code class="language-bash">sudo dnf install python3-mpi4py parmetis-devel
</code></pre>
<p>Build esys-escript:</p>
<pre><code class="language-bash">scons -j4 options_file=scons/templates/centos8_options.py
</code></pre>
<h3 id="macos-with-homebrew">macOS with Homebrew</h3>
<p><strong>Note:</strong> macOS support is limited. Requires Xcode Command Line Tools.</p>
<p>Install Homebrew from <a href="https://brew.sh">https://brew.sh</a>, then:</p>
<pre><code class="language-bash">brew install python3 numpy scipy matplotlib
brew install scons cmake
brew install boost boost-python3
brew install hdf5 suite-sparse
</code></pre>
<p>Some Python packages may need pip:</p>
<pre><code class="language-bash">pip3 install numpy scipy matplotlib
</code></pre>
<p>For MPI support:</p>
<pre><code class="language-bash">brew install open-mpi
pip3 install mpi4py
</code></pre>
<p>Build esys-escript:</p>
<pre><code class="language-bash">scons -j4 options_file=scons/templates/homebrew_options.py
</code></pre>
<h3 id="macos-with-macports">macOS with MacPorts</h3>
<p><strong>Note:</strong> macOS support is limited. Requires Xcode Command Line Tools.</p>
<p>Install MacPorts from <a href="https://www.macports.org">https://www.macports.org</a>, then:</p>
<pre><code class="language-bash">sudo port install python311
sudo port select --set python python311
sudo port select --set python3 python311
sudo port install py311-numpy py311-scipy py311-matplotlib
sudo port install scons cmake boost hdf5 suitesparse
</code></pre>
<p>For MPI support:</p>
<pre><code class="language-bash">sudo port install openmpi py311-mpi4py
</code></pre>
<p>Build esys-escript:</p>
<pre><code class="language-bash">scons -j4 options_file=scons/templates/macports_options.py
</code></pre>
<h3 id="freebsd">FreeBSD</h3>
<p><strong>Note:</strong> At the time of testing, numpy installation on FreeBSD had issues. Full testing has been limited.</p>
<pre><code class="language-bash">sudo pkg install python3 py39-numpy py39-scipy py39-matplotlib
sudo pkg install scons cmake boost-python-libs hdf5 suitesparse
</code></pre>
<h2 id="advanced-configuration">Advanced Configuration</h2>
<h3 id="customizing-build-options">Customizing Build Options</h3>
<p>Edit your options file (<code>scons/&lt;hostname&gt;_options.py</code>) to customize:</p>
<ul>
<li><strong>OpenMP</strong>: Enable/disable with <code>openmp = True</code> or <code>openmp = False</code></li>
<li><strong>MPI</strong>: Set <code>mpi = 'OPENMPI'</code> or <code>mpi = 'none'</code></li>
<li><strong>Compiler</strong>: Change <code>cxx</code>, <code>cc</code> variables</li>
<li><strong>Optimization</strong>: Modify <code>cxx_extra</code> flags</li>
<li><strong>Libraries</strong>: Adjust library paths and names</li>
</ul>
<h3 id="mpi-configuration">MPI Configuration</h3>
<p>To enable MPI, ensure in your options file:</p>
<pre><code class="language-python">mpi = 'OPENMPI'  # or 'MPICH'
mpi_prefix = '/usr/lib/x86_64-linux-gnu/openmpi'
mpi_libs = ['mpi_cxx', 'mpi']
</code></pre>
<p>To disable MPI:</p>
<pre><code class="language-python">mpi = 'none'
</code></pre>
<h3 id="trilinos-support">Trilinos Support</h3>
<p>esys-escript includes Trilinos for advanced solver capabilities. Trilinos is built automatically during the esys-escript build process.</p>
<p>For complex-valued PDEs and advanced preconditioners, ensure Trilinos support is enabled in your build.</p>
<h2 id="testing">Testing</h2>
<h3 id="unit-tests">Unit Tests</h3>
<p>Run the test suite:</p>
<pre><code class="language-bash">scons -j4 py_tests
</code></pre>
<p>Or use the test script:</p>
<pre><code class="language-bash">./utest.sh build -t4  # Run with 4 OpenMP threads
</code></pre>
<p>With MPI:</p>
<pre><code class="language-bash">./utest.sh build -t2 -n2  # 2 threads, 2 MPI processes
</code></pre>
<p><strong>Note:</strong> Some tests require optional features (netCDF, SILO, etc.) and will report failures if those features are disabled.</p>
<h2 id="installation-layout">Installation Layout</h2>
<p>After building, the directory structure is:</p>
<pre><code>esys-escript.github.io/
├── bin/
│   └── run-escript              # Launcher script
├── esys/                        # Python package
│   ├── escript/
│   ├── finley/
│   ├── ripley/
│   ├── oxley/
│   └── speckley/
├── lib/
│   └── esys/                    # Compiled libraries
├── esys.trilinos/               # Trilinos installation
│   └── lib/
├── release/                     # Documentation (if built)
│   └── doc/
│       ├── index.html
│       └── sphinx_api/
└── README.md
</code></pre>
<h2 id="running-esys-escript">Running esys-escript</h2>
<h3 id="using-the-launcher">Using the Launcher</h3>
<pre><code class="language-bash">./bin/run-escript myscript.py
</code></pre>
<p>The launcher automatically sets up the environment (PYTHONPATH, LD_LIBRARY_PATH, etc.).</p>
<h3 id="parallel-execution">Parallel Execution</h3>
<p>With OpenMP (4 threads):</p>
<pre><code class="language-bash">./bin/run-escript -t 4 myscript.py
</code></pre>
<p>With MPI (4 processes):</p>
<pre><code class="language-bash">./bin/run-escript -n 4 myscript.py
</code></pre>
<p>Hybrid OpenMP + MPI (2 processes, 4 threads each):</p>
<pre><code class="language-bash">./bin/run-escript -n 2 -t 4 myscript.py
</code></pre>
<h3 id="direct-python-usage">Direct Python Usage</h3>
<p>If not using the launcher, set environment variables:</p>
<pre><code class="language-bash">export PYTHONPATH=/path/to/esys-escript.github.io:$PYTHONPATH
export LD_LIBRARY_PATH=/path/to/esys-escript.github.io/lib/esys:$LD_LIBRARY_PATH
export LD_LIBRARY_PATH=/path/to/esys-escript.github.io/esys.trilinos/lib:$LD_LIBRARY_PATH

python3 myscript.py
</code></pre>
<h2 id="troubleshooting">Troubleshooting</h2>
<h3 id="common-issues">Common Issues</h3>
<p><strong>Import errors:</strong>
- Ensure <code>PYTHONPATH</code> and <code>LD_LIBRARY_PATH</code> are set correctly
- Check that all dependencies are installed</p>
<p><strong>Build failures:</strong>
- Verify all required packages are installed
- Check compiler compatibility (C++11 support required)
- Review <code>config.log</code> for detailed error messages</p>
<p><strong>Test failures:</strong>
- Some tests require optional features (HDF5, SILO, MPI)
- Tests will report failures for disabled features - this is expected</p>
<p><strong>MPI issues:</strong>
- Ensure mpi4py version matches your MPI implementation
- Check that MPI paths in options file are correct
- Verify MPI is properly initialized with <code>mpirun</code> or <code>mpiexec</code></p>
<h3 id="getting-help">Getting Help</h3>
<ul>
<li>Report issues: <a href="https://github.com/esys-escript/esys-escript.github.io/issues">GitHub Issues</a></li>
<li>Documentation: <a href="https://esys-escript.github.io/">https://esys-escript.github.io/</a></li>
<li>User guide: See <code>release/doc/user/user.pdf</code> after building docs</li>
</ul>
<h2 id="optional-extras">Optional Extras</h2>
<h3 id="direct-solvers">Direct Solvers</h3>
<p>To enable UMFPACK (direct sparse solver):</p>
<pre><code class="language-bash">sudo apt-get install libsuitesparse-dev
</code></pre>
<p>Add to your options file:</p>
<pre><code class="language-python">umfpack = True
</code></pre>
<h3 id="visualization">Visualization</h3>
<p>Install visualization tools:</p>
<pre><code class="language-bash"># VisIt (via SILO format)
sudo apt-get install visit

# ParaView (via VTK format)
sudo apt-get install paraview

# Mayavi (via VTK format)
pip3 install mayavi
</code></pre>
<h3 id="mesh-generation">Mesh Generation</h3>
<p>Install gmsh for mesh generation:</p>
<pre><code class="language-bash">sudo apt-get install gmsh  # Linux
brew install gmsh          # macOS
</code></pre>
<h2 id="compiler-requirements">Compiler Requirements</h2>
<p>esys-escript requires a C++11 compliant compiler. Tested compilers include:</p>
<ul>
<li>GCC g++ 10.2+</li>
<li>Clang 11.0+</li>
<li>Intel icpc v17+</li>
</ul>
<p>Required C++11 features:
- <code>std::complex&lt;&gt;</code>
- <code>auto</code> type declarations
- <code>decltype(T)</code> type declarations
- Explicit template instantiation
- <code>std::isnan()</code> in <code>std</code> namespace</p>
<h2 id="license-and-credits">License and Credits</h2>
<p>See <code>LICENSE</code> and <code>CREDITS</code> files in the distribution for license information and contributor acknowledgments.</p>
</section>
            <div class="clearer"></div>
          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="Main">
        <div class="sphinxsidebarwrapper">
          <h3><a href="index.html">Table of Contents</a></h3>
          <ul>
            <li><a href="index.html">Documentation Home</a></li>
            <li><a href="installation.html">Installation Guide</a></li>
            <li><a href="sphinx_api/index.html">Python API Reference</a></li>
            <li><a href="user/user.pdf">User Guide (PDF)</a></li>
          </ul>
          <h3>Downloads</h3>
          <ul>
            <li><a href="escript_examples.zip">Examples (ZIP)</a></li>
            <li><a href="escript_examples.tar.gz">Examples (TAR.GZ)</a></li>
          </ul>
          <h3>Resources</h3>
          <ul>
            <li><a href="https://github.com/esys-escript/esys-escript.github.io">GitHub Repository</a></li>
            <li><a href="https://github.com/esys-escript/esys-escript.github.io/issues">Report Issues</a></li>
          </ul>
        </div>
      </div>
    </div>

    <div class="footer" role="contentinfo">
      <p>&copy; Copyright 2003-2024, The University of Queensland and contributors.</p>
      <p>
        Last updated on Dec 08, 2025.
        Created using <a href="https://www.python.org/">Python</a> and
        <a href="https://www.sphinx-doc.org/">Sphinx</a> theme.
      </p>
    </div>
  </body>
</html>
